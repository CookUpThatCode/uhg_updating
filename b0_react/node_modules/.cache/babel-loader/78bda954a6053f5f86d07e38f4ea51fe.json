{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/matte/Coding/uhg2/uhg/b0_react/src/components/trailsview/trailsview.jsx\";\nimport React, { Component } from 'react';\nimport { Query } from 'react-apollo';\nimport { gql } from 'apollo-boost';\nimport { Link } from 'react-router-dom';\nimport TrailItem from '../trailItem/trailItem';\nimport './trailsview.css';\n\nclass TrailsView extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      startIdx: 0,\n      list: null\n    };\n\n    this.rightHandler = () => {\n      if (this.state.startIdx !== 10) {\n        this.setState((prevState, prevProps) => {\n          return {\n            startIdx: prevState.startIdx + 5\n          };\n        });\n      }\n    };\n\n    this.leftHandler = () => {\n      if (this.state.startIdx !== 0) {\n        this.setState((prevState, prevProps) => {\n          return {\n            startIdx: prevState.startIdx - 5\n          };\n        });\n      }\n    };\n  }\n\n  render() {\n    let query = null;\n\n    if (this.props.list === \"beginner\") {\n      query = BEGINNER_TRAILS;\n    } else if (this.props.list === \"popular\") {\n      query = POPULAR_TRAILS;\n    }\n\n    let leftArrow = \"outerSection\";\n    let rightArrow = \"outerSection\";\n    if (this.state.startIdx === 0) leftArrow += \" grayedOut\";\n    if (this.state.startIdx === 10) rightArrow += \" grayedOut\";\n    let list = null;\n\n    if (!this.state.list) {\n      list = /*#__PURE__*/_jsxDEV(Query, {\n        query: query,\n        children: ({\n          data,\n          loading,\n          error\n        }) => {\n          if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 39\n          }, this);\n          if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 37\n          }, this);\n\n          if (this.props.list === \"beginner\") {\n            this.setState({\n              list: data.beginnerTrails\n            });\n          } else if (this.props.list === \"popular\") {\n            this.setState({\n              list: data.popularTrails\n            });\n          }\n\n          return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 26\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this);\n    } else {\n      let trailsSlice = this.state.list.slice(this.state.startIdx, this.state.startIdx + 5);\n      let trailsList = trailsSlice.map((trail, idx) => {\n        return /*#__PURE__*/_jsxDEV(Link, {\n          className: \"trailLinkWrapper\",\n          to: `/traildetail/${trail.id}`,\n          children: /*#__PURE__*/_jsxDEV(TrailItem, {\n            trailID: trail.id,\n            trailName: trail.name,\n            trailProp: trail.prop,\n            trailDistance: trail.distance,\n            trailAltChange: trail.altitudeChange,\n            trailAvgDiff: trail.avgDifficulty,\n            trailAvgEnj: trail.avgEnjoyability,\n            imageUrl: trail.image\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 97\n          }, this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 20\n        }, this);\n      });\n      list = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"trailsView\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: leftArrow,\n          onClick: this.leftHandler,\n          children: \"<\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 16\n        }, this), trailsList, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: rightArrow,\n          onClick: this.rightHandler,\n          children: \">\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this);\n    }\n\n    return list;\n  }\n\n}\n\nconst BEGINNER_TRAILS = gql`\n   {\n      beginnerTrails {\n         id \n         name \n         prop \n         distance \n         altitudeChange\n         avgDifficulty\n         avgEnjoyability\n         image\n      }\n   }\n`;\nconst POPULAR_TRAILS = gql`\n   {\n      popularTrails {\n         id \n         name \n         prop \n         distance \n         altitudeChange\n         avgDifficulty\n         avgEnjoyability\n         image\n      }\n   }\n`;\nexport default TrailsView;","map":{"version":3,"sources":["/home/matte/Coding/uhg2/uhg/b0_react/src/components/trailsview/trailsview.jsx"],"names":["React","Component","Query","gql","Link","TrailItem","TrailsView","state","startIdx","list","rightHandler","setState","prevState","prevProps","leftHandler","render","query","props","BEGINNER_TRAILS","POPULAR_TRAILS","leftArrow","rightArrow","data","loading","error","beginnerTrails","popularTrails","trailsSlice","slice","trailsList","map","trail","idx","id","name","prop","distance","altitudeChange","avgDifficulty","avgEnjoyability","image"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Query } from 'react-apollo';\nimport { gql } from 'apollo-boost';\nimport { Link } from 'react-router-dom';\n\nimport TrailItem from '../trailItem/trailItem';\n\nimport './trailsview.css';\n\nclass TrailsView extends Component {\n   state = {\n      startIdx: 0,\n      list: null\n   }\n\n   rightHandler = () => {\n      if (this.state.startIdx !== 10) {\n         this.setState((prevState, prevProps) => {\n            return {\n               startIdx: prevState.startIdx + 5\n            }\n         })\n      }\n   }\n\n   leftHandler = () => {\n      if (this.state.startIdx !== 0) {\n         this.setState((prevState, prevProps) => {\n            return {\n               startIdx: prevState.startIdx - 5\n            }\n         })\n      }\n   }\n\n   render() {\n      let query = null;\n      if (this.props.list === \"beginner\") {\n         query = BEGINNER_TRAILS;\n      }\n      else if (this.props.list === \"popular\") {\n         query = POPULAR_TRAILS;\n      }\n      let leftArrow = \"outerSection\";\n      let rightArrow = \"outerSection\";\n      if (this.state.startIdx === 0) leftArrow += \" grayedOut\";\n      if (this.state.startIdx === 10) rightArrow += \" grayedOut\";\n      let list = null;\n      if (!this.state.list) {\n         list = (\n            <Query query={query}>\n               {({data, loading, error}) => {\n                  if (loading) return <div></div>\n                  if (error) return <div>Error</div>\n                  if (this.props.list === \"beginner\") {\n                     this.setState({list: data.beginnerTrails});\n                  }\n                  else if (this.props.list === \"popular\") {\n                     this.setState({list: data.popularTrails});\n                  }\n\n                  return <div></div>\n               }}\n            </Query>\n         )\n      }\n      else {\n         let trailsSlice = this.state.list.slice(this.state.startIdx, this.state.startIdx+5)\n         let trailsList = trailsSlice.map((trail, idx) => {\n            return <Link className=\"trailLinkWrapper\" to={`/traildetail/${trail.id}`} key={idx}><TrailItem\n               trailID={trail.id}\n               trailName={trail.name}\n               trailProp={trail.prop}\n               trailDistance={trail.distance}\n               trailAltChange={trail.altitudeChange}\n               trailAvgDiff={trail.avgDifficulty}\n               trailAvgEnj={trail.avgEnjoyability}\n               imageUrl={trail.image}\n            /></Link>\n         })\n         list = (\n            <div className=\"trailsView\">\n               <div className={leftArrow} onClick={this.leftHandler}>&lt;</div>\n               {trailsList}\n               <div className={rightArrow} onClick={this.rightHandler}>&gt;</div>\n            </div>\n         )\n      }\n      return (\n         list\n      )\n   }\n}\n\n\nconst BEGINNER_TRAILS = gql`\n   {\n      beginnerTrails {\n         id \n         name \n         prop \n         distance \n         altitudeChange\n         avgDifficulty\n         avgEnjoyability\n         image\n      }\n   }\n`\n\nconst POPULAR_TRAILS = gql`\n   {\n      popularTrails {\n         id \n         name \n         prop \n         distance \n         altitudeChange\n         avgDifficulty\n         avgEnjoyability\n         image\n      }\n   }\n`\n\nexport default TrailsView;"]},"metadata":{},"sourceType":"module"}